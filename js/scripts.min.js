"use strict";function addClass(a,b){for(var c=b.split(" "),d=0;d<c.length;d++)a.className+=" "+c[d];return a.className=a.className.trim(),a.className}function removeClass(a,b){var c=a.className.trim().split(" "),d=b.trim().split(" ");a.className="";a:for(var e=0;e<c.length;e++){for(var f=0;f<d.length;f++)if(c[e]===d[f])continue a;a.className+=" "+c[e]}return a.className=a.className.trim(),a.className}function toggleClass(a,b){var c=b.trim().split(" "),d=c.every(function(b,c,d){return hasClass(a,b)});return d?removeClass(a,b):addClass(a,b),d}function hasClass(a,b){var c=" "+a.className.trim()+" ";return b=b.trim(),!!~c.indexOf(" "+b+" ")}function leaf(a){for(var b=1;b<=4;b++)removeClass(document.querySelector(".slider__slide--"+b),"slider__slide--back"),removeClass(document.querySelector(".header__title--"+b),"header__title--back");for(var b=1;b<=4;b++)if(hasClass(document.querySelector(".slider__slide--"+b),"slider__slide--active")){a(b);break}}function clickSliderArrowRight(){leaf(function(a){addClass(document.querySelector(".slider__slide--"+a),"slider__slide--back"),addClass(document.querySelector(".header__title--"+a),"header__title--back"),removeClass(document.querySelector(".slider__slide--"+a),"slider__slide--active"),removeClass(document.querySelector(".header__title--"+a),"header__title--active"),a=4==a?1:a+1,addClass(document.querySelector(".slider__slide--"+a),"slider__slide--active"),addClass(document.querySelector(".header__title--"+a),"header__title--active")})}function clickSliderArrowLeft(){leaf(function(a){removeClass(document.querySelector(".slider__slide--"+a),"slider__slide--active"),removeClass(document.querySelector(".header__title--"+a),"header__title--active"),a=1==a?4:a-1,addClass(document.querySelector(".slider__slide--"+a),"slider__slide--active"),addClass(document.querySelector(".header__title--"+a),"header__title--active"),a=1==a?4:a-1,addClass(document.querySelector(".slider__slide--"+a),"slider__slide--back"),addClass(document.querySelector(".header__title--"+a),"header__title--back")})}function initMap(){var a={lat:54.179975,lng:37.60391};map=new google.maps.Map(document.getElementById("map"),{center:a,scrollwheel:!1,zoom:15});var b={url:"/img/pinLogo.svg"},c=new google.maps.Marker({map:map,icon:b,place:{location:a,query:"Just Space, Россия, Тула, пр. Ленина"},attribution:{source:"Digital-агентство Just Space",webUrl:"http://www.just-space.ru"},title:"Тут создают сайты"}),d=new google.maps.InfoWindow({content:"Digital-агентство Just Space"});c.addListener("click",function(){d.open(map,c)});var e=[{stylers:[{hue:"#0097ba"},{saturation:-20}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:100},{visibility:"simplified"}]}];map.setOptions({styles:e})}function limitExecByInterval(a,b){var c,d,e;return function(){if(e=arguments,!c){c=!0;var f=this;return setTimeout(function(){c=!1,d&&(e.callee.apply(f,e),d=!1)},b),a.apply(this,e)}d=!0}}var winHeight=document.documentElement.clientHeight,winWidth=document.documentElement.clientWidth,map,XHR="onload"in new XMLHttpRequest?XMLHttpRequest:XDomainRequest;document.addEventListener("DOMContentLoaded",function(){var a=document.querySelector(".header")||document.querySelector("head"),b=document.querySelector(".header--index")||document.querySelector("head"),c=document.querySelector(".main-blog")||document.querySelector("head"),d=document.querySelector(".hamburger")||document.querySelector("head"),e=document.querySelectorAll(".hamburger__line")||document.querySelector("head"),f=document.querySelector(".sidebar")||document.querySelector("head"),g=document.querySelectorAll(".sidebar__link")||document.querySelector("head"),h=document.querySelector("#file__front")||document.querySelector("head"),i=document.querySelector("#file__back")||document.querySelector("head"),j=document.querySelector("#order_sub")||document.querySelector("head"),k=document.querySelector(".window__button-close")||document.querySelector("head"),l=document.querySelector(".window")||document.querySelector("head"),m=document.querySelector(".ajax-alert-popup")||document.querySelector("head"),n=document.querySelector(".arrow__icon")||document.querySelector("head"),o=document.querySelector(".slider__arrow--left")||document.querySelector("head"),p=document.querySelector(".slider__arrow--right")||document.querySelector("head");a.style.height=winHeight/1.5+"px",b.style.height=winHeight+"px",winWidth>500&&(c.style.height=winHeight+"px"),d.addEventListener("click",function(){for(var a=0;a<e.length;a++)toggleClass(e[a],"hamburger__line--open"),toggleClass(f,"sidebar--open")}),h.addEventListener("click",function(){i.click()});var q=limitExecByInterval(clickSliderArrowLeft,1e3),r=limitExecByInterval(clickSliderArrowRight,1e3);if(o.addEventListener("click",function(){clearInterval(s),q()}),p.addEventListener("click",function(){clearInterval(s),r()}),hasClass(a,"header--index"))var s=setInterval(function(){clickSliderArrowRight()},5e3);n.addEventListener("click",function(a){function b(a){var g=0,h=0;null===c&&(c=a),g=a-c,h=f-e<0?Math.max(e-g/d,f):Math.min(e+g/d,f),window.scrollTo(0,h),h!=f&&window.requestAnimationFrame(b)}var c=null,d=1,e=window.pageYOffset,f=winHeight;window.requestAnimationFrame(b),a.preventDefault()});for(var t=0;t<g.length;t++)g[t].addEventListener("mouseenter",function(){addClass(this,"sidebar__link--hover")}),g[t].addEventListener("focus",function(){addClass(this,"sidebar__link--hover")}),g[t].addEventListener("mouseleave",function(){removeClass(this,"sidebar__link--hover")}),g[t].addEventListener("blur",function(){removeClass(this,"sidebar__link--hover")});j.addEventListener("click",function(a){var b=document.querySelector("#fio").value,c=document.querySelector("#tel").value,d=document.querySelector("#email").value,e=document.querySelector("#description").value;if(""!=b&&""!=c&&""!=d&&""!=e){a.preventDefault();var f=new XHR,g="fio="+encodeURIComponent(b)+"&tel="+encodeURIComponent(c)+"&email="+encodeURIComponent(d)+"&description="+encodeURIComponent(e);f.open("POST","/includes/ajax/order.php",!0),f.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),f.send(g),f.onreadystatechange=function(){4==f.readyState&&(200==f.status?(addClass(m,"ajax-alert-popup--open"),addClass(l,"window--done"),document.querySelector(".window__text--done").style.display="block"):(addClass(m,"ajax-alert-popup--open"),addClass(l,"window--error"),document.querySelector(".window__text--error").style.display="block"))}}}),k.addEventListener("click",function(){removeClass(m,"ajax-alert-popup--open"),removeClass(l,"window--done window--error"),document.querySelector(".window__text--done").style.display="none",document.querySelector(".window__text--error").style.display="none"})});
"use strict";function addClass(e,t){for(var r=t.split(" "),n=0;n<r.length;n++)e.className+=" "+r[n];return e.className=e.className.trim(),e.className}function removeClass(e,t){var r=e.className.trim().split(" "),n=t.trim().split(" ");e.className="";e:for(var o=0;o<r.length;o++){for(var l=0;l<n.length;l++)if(r[o]===n[l])continue e;e.className+=" "+r[o]}return e.className=e.className.trim(),e.className}function toggleClass(e,t){var r=t.trim().split(" "),n=r.every(function(t,r,n){return hasClass(e,t)});return n?removeClass(e,t):addClass(e,t),n}function hasClass(e,t){var r=" "+e.className.trim()+" ";return t=t.trim(),!!~r.indexOf(" "+t+" ")}function leaf(e){for(var t=1;t<=4;t++)removeClass(document.querySelector(".slider__slide--"+t),"slider__slide--back"),removeClass(document.querySelector(".header__title--"+t),"header__title--back");for(var t=1;t<=4;t++)if(hasClass(document.querySelector(".slider__slide--"+t),"slider__slide--active")){e(t);break}}function clickSliderArrowRight(){leaf(function(e){addClass(document.querySelector(".slider__slide--"+e),"slider__slide--back"),addClass(document.querySelector(".header__title--"+e),"header__title--back"),removeClass(document.querySelector(".slider__slide--"+e),"slider__slide--active"),removeClass(document.querySelector(".header__title--"+e),"header__title--active"),e=4==e?1:e+1,addClass(document.querySelector(".slider__slide--"+e),"slider__slide--active"),addClass(document.querySelector(".header__title--"+e),"header__title--active")})}function clickSliderArrowLeft(){leaf(function(e){removeClass(document.querySelector(".slider__slide--"+e),"slider__slide--active"),removeClass(document.querySelector(".header__title--"+e),"header__title--active"),e=1==e?4:e-1,addClass(document.querySelector(".slider__slide--"+e),"slider__slide--active"),addClass(document.querySelector(".header__title--"+e),"header__title--active"),e=1==e?4:e-1,addClass(document.querySelector(".slider__slide--"+e),"slider__slide--back"),addClass(document.querySelector(".header__title--"+e),"header__title--back")})}function initMap(){var e={lat:54.179975,lng:37.60391};map=new google.maps.Map(document.getElementById("map"),{center:e,scrollwheel:!1,zoom:15});var t={url:"/img/pinLogo.svg"},r=new google.maps.Marker({map:map,icon:t,place:{location:e,query:"Just Space, Россия, Тула, пр. Ленина"},attribution:{source:"Digital-агентство Just Space",webUrl:"http://www.just-space.ru"},title:"Тут создают сайты"}),n=new google.maps.InfoWindow({content:"Digital-агентство Just Space"});r.addListener("click",function(){n.open(map,r)});var o=[{stylers:[{hue:"#0097ba"},{saturation:-20}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:100},{visibility:"simplified"}]}];map.setOptions({styles:o})}function limitExecByInterval(e,t){var r,n,o;return function(){if(o=arguments,!r){r=!0;var l=this;return setTimeout(function(){r=!1,n&&(o.callee.apply(l,o),n=!1)},t),e.apply(this,o)}n=!0}}function openCloseAppMenu(){hasClass(document.querySelector(".app-menu"),"app-menu--open")?(removeClass(document.querySelector(".app-menu"),"app-menu--open"),removeClass(document.querySelector(".blind"),"blind--open"),removeClass(document.querySelector(".blind__line1"),"blind__line1--open"),removeClass(document.querySelector(".blind__line2"),"blind__line2--open")):(addClass(document.querySelector(".app-menu"),"app-menu--open"),addClass(document.querySelector(".blind"),"blind--open"),addClass(document.querySelector(".blind__line1"),"blind__line1--open"),addClass(document.querySelector(".blind__line2"),"blind__line2--open"))}var winHeight=document.documentElement.clientHeight,winWidth=document.documentElement.clientWidth,map,XHR="onload"in new XMLHttpRequest?XMLHttpRequest:XDomainRequest;document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".header")||document.querySelector("head"),t=document.querySelector(".header--2div3")||document.querySelector("head"),r=document.querySelector(".header--index")||document.querySelector("head"),n=document.querySelector(".main-blog")||document.querySelector("head"),o=document.querySelector(".hamburger")||document.querySelector("head"),l=document.querySelectorAll(".hamburger__line")||document.querySelector("head"),a=document.querySelector(".sidebar")||document.querySelector("head"),d=document.querySelectorAll(".sidebar__link")||document.querySelector("head"),i=document.querySelector("#file__front")||document.querySelector("head"),c=document.querySelector("#file__back")||document.querySelector("head"),s=document.querySelector("#order_sub")||document.querySelector("head"),u=document.querySelector(".window__button-close")||document.querySelector("head"),m=document.querySelector(".window")||document.querySelector("head"),_=document.querySelector(".ajax-alert-popup")||document.querySelector("head"),p=document.querySelector(".arrow__icon")||document.querySelector("head"),y=document.querySelector(".slider__arrow--left")||document.querySelector("head"),h=document.querySelector(".slider__arrow--right")||document.querySelector("head"),v=document.querySelector(".app-menu")||document.querySelector("head"),S=document.querySelector(".blind")||document.querySelector("head"),q=document.querySelectorAll("*")||document.querySelector("head");t.style.height=winHeight/1.5+"px",r.style.height=winHeight+"px",v.style.height="100%",winWidth>500&&(n.style.height=winHeight+"px"),o.addEventListener("click",function(){for(var e=0;e<l.length;e++)toggleClass(l[e],"hamburger__line--open"),toggleClass(a,"sidebar--open")});for(var f=0;f<q.length;f++)q[f].addEventListener("touchstart",function(e){e.target.mouseenter()});S.addEventListener("click",openCloseAppMenu),i.addEventListener("click",function(){c.click()});var w=limitExecByInterval(clickSliderArrowLeft,1e3),C=limitExecByInterval(clickSliderArrowRight,1e3);if(y.addEventListener("click",function(){clearInterval(g),w()}),h.addEventListener("click",function(){clearInterval(g),C()}),hasClass(e,"header--index"))var g=setInterval(function(){clickSliderArrowRight()},5e3);p.addEventListener("click",function(e){function t(e){var a=0,d=0;null===r&&(r=e),a=e-r,d=l-o<0?Math.max(o-a/n,l):Math.min(o+a/n,l),window.scrollTo(0,d),d!=l&&window.requestAnimationFrame(t)}var r=null,n=1,o=window.pageYOffset,l=winHeight;window.requestAnimationFrame(t),e.preventDefault()});for(var f=0;f<d.length;f++)d[f].addEventListener("mouseenter",function(){addClass(this,"sidebar__link--hover")}),d[f].addEventListener("focus",function(){addClass(this,"sidebar__link--hover")}),d[f].addEventListener("mouseleave",function(){removeClass(this,"sidebar__link--hover")}),d[f].addEventListener("blur",function(){removeClass(this,"sidebar__link--hover")});s.addEventListener("click",function(e){var t=document.querySelector("#fio").value,r=document.querySelector("#tel").value,n=document.querySelector("#email").value,o=document.querySelector("#description").value;if(""!=t&&""!=r&&""!=n&&""!=o){e.preventDefault();var l=new XHR,a="fio="+encodeURIComponent(t)+"&tel="+encodeURIComponent(r)+"&email="+encodeURIComponent(n)+"&description="+encodeURIComponent(o);l.open("POST","/includes/ajax/order.php",!0),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l.send(a),l.onreadystatechange=function(){4==l.readyState&&(200==l.status?(addClass(_,"ajax-alert-popup--open"),addClass(m,"window--done"),document.querySelector(".window__text--done").style.display="block"):(addClass(_,"ajax-alert-popup--open"),addClass(m,"window--error"),document.querySelector(".window__text--error").style.display="block"))}}}),u.addEventListener("click",function(){removeClass(_,"ajax-alert-popup--open"),removeClass(m,"window--done window--error"),document.querySelector(".window__text--done").style.display="none",document.querySelector(".window__text--error").style.display="none"})});
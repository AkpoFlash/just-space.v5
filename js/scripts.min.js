"use strict";function addClass(e,t){for(var r=t.split(" "),l=0;l<r.length;l++)e.className+=" "+r[l];return e.className=e.className.trim(),e.className}function removeClass(e,t){var r=e.className.trim().split(" "),l=t.trim().split(" ");e.className="";e:for(var n=0;n<r.length;n++){for(var o=0;o<l.length;o++)if(r[n]===l[o])continue e;e.className+=" "+r[n]}return e.className=e.className.trim(),e.className}function toggleClass(e,t){var r=t.trim().split(" "),l=r.every(function(t,r,l){return hasClass(e,t)});return l?removeClass(e,t):addClass(e,t),l}function hasClass(e,t){var r=" "+e.className.trim()+" ";return t=t.trim(),!!~r.indexOf(" "+t+" ")}function removeOldClass(e,t){for(var r=0;r<e.length;r++)removeClass(e[r],t)}function leaf(e){for(var t=1;t<=4;t++)removeClass(document.querySelector(".slider__slide--"+t),"slider__slide--back"),removeClass(document.querySelector(".header__title--"+t),"header__title--back");for(var t=1;t<=4;t++)if(hasClass(document.querySelector(".slider__slide--"+t),"slider__slide--active")){e(t);break}}function clickSliderArrowRight(){leaf(function(e){addClass(document.querySelector(".slider__slide--"+e),"slider__slide--back"),addClass(document.querySelector(".header__title--"+e),"header__title--back"),removeClass(document.querySelector(".slider__slide--"+e),"slider__slide--active"),removeClass(document.querySelector(".header__title--"+e),"header__title--active"),e=4==e?1:e+1,addClass(document.querySelector(".slider__slide--"+e),"slider__slide--active"),addClass(document.querySelector(".header__title--"+e),"header__title--active")})}function clickSliderArrowLeft(){leaf(function(e){removeClass(document.querySelector(".slider__slide--"+e),"slider__slide--active"),removeClass(document.querySelector(".header__title--"+e),"header__title--active"),e=1==e?4:e-1,addClass(document.querySelector(".slider__slide--"+e),"slider__slide--active"),addClass(document.querySelector(".header__title--"+e),"header__title--active"),e=1==e?4:e-1,addClass(document.querySelector(".slider__slide--"+e),"slider__slide--back"),addClass(document.querySelector(".header__title--"+e),"header__title--back")})}function limitExecByInterval(e,t){var r,l,n;return function(){if(n=arguments,!r){r=!0;var o=this;return setTimeout(function(){r=!1,l&&(n.callee.apply(o,n),l=!1)},t),e.apply(this,n)}l=!0}}function openCloseAppMenu(){hasClass(document.querySelector(".app-menu"),"app-menu--open")?(removeClass(document.querySelector(".app-menu"),"app-menu--open"),removeClass(document.querySelector(".blind"),"blind--open"),removeClass(document.querySelector(".blind__line1"),"blind__line1--open"),removeClass(document.querySelector(".blind__line2"),"blind__line2--open")):(addClass(document.querySelector(".app-menu"),"app-menu--open"),addClass(document.querySelector(".blind"),"blind--open"),addClass(document.querySelector(".blind__line1"),"blind__line1--open"),addClass(document.querySelector(".blind__line2"),"blind__line2--open"))}var winHeight=document.documentElement.clientHeight,winWidth=document.documentElement.clientWidth,XHR="onload"in new XMLHttpRequest?XMLHttpRequest:XDomainRequest;document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".header")||document.querySelector("head"),t=document.querySelector(".header--2div3")||document.querySelector("head"),r=document.querySelector(".header--index")||document.querySelector("head"),l=document.querySelector(".main-blog")||document.querySelector("head"),n=document.querySelector(".hamburger")||document.querySelector("head"),o=document.querySelectorAll(".hamburger__line")||document.querySelector("head"),d=document.querySelector(".sidebar")||document.querySelector("head"),a=document.querySelectorAll(".sidebar__link")||document.querySelector("head"),i=document.querySelector("#file__front")||document.querySelector("head"),c=document.querySelector("#file__back")||document.querySelector("head"),s=document.querySelector("#order_sub")||document.querySelector("head"),u=document.querySelector(".window__button-close")||document.querySelector("head"),m=document.querySelector(".window")||document.querySelector("head"),_=document.querySelector(".ajax-alert-popup")||document.querySelector("head"),h=document.querySelector(".arrow__icon")||document.querySelector("head"),y=document.querySelector(".slider__arrow--left")||document.querySelector("head"),v=document.querySelector(".slider__arrow--right")||document.querySelector("head"),S=document.querySelector(".app-menu")||document.querySelector("head"),p=document.querySelector(".blind")||document.querySelector("head"),q=document.querySelectorAll("*")||document.querySelector("head");t.style.height=winHeight/1.5+"px",r.style.height=winHeight+"px",S.style.height="100%",winWidth>500&&(l.style.height=winHeight+"px"),n.addEventListener("click",function(){for(var e=0;e<o.length;e++)toggleClass(o[e],"hamburger__line--open"),toggleClass(d,"sidebar--open")});for(var f=0;f<q.length;f++)q[f].addEventListener("touchstart",function(e){e.target.mouseenter()});p.addEventListener("click",openCloseAppMenu),i.addEventListener("click",function(){c.click()});var C=limitExecByInterval(clickSliderArrowLeft,1e3),w=limitExecByInterval(clickSliderArrowRight,1e3);if(y.addEventListener("click",function(){clearInterval(g),C()}),v.addEventListener("click",function(){clearInterval(g),w()}),hasClass(e,"header--index"))var g=setInterval(function(){clickSliderArrowRight()},5e3);h.addEventListener("click",function(e){function t(e){var d=0,a=0;null===r&&(r=e),d=e-r,a=o-n<0?Math.max(n-d/l,o):Math.min(n+d/l,o),window.scrollTo(0,a),a!=o&&window.requestAnimationFrame(t)}var r=null,l=1,n=window.pageYOffset,o=winHeight;window.requestAnimationFrame(t),e.preventDefault()});for(var f=0;f<a.length;f++)a[f].addEventListener("mouseenter",function(){removeOldClass(a,"sidebar__link--hover"),toggleClass(this,"sidebar__link--hover")}),a[f].addEventListener("focus",function(){removeOldClass(a,"sidebar__link--hover"),toggleClass(this,"sidebar__link--hover")}),a[f].addEventListener("mouseleave",function(){removeOldClass(a,"sidebar__link--hover"),toggleClass(this,"sidebar__link--hover")}),a[f].addEventListener("blur",function(){removeOldClass(a,"sidebar__link--hover"),toggleClass(this,"sidebar__link--hover")});s.addEventListener("click",function(e){var t=document.querySelector("#fio").value,r=document.querySelector("#tel").value,l=document.querySelector("#email").value,n=document.querySelector("#description").value;if(""!=t&&""!=r&&""!=l&&""!=n){e.preventDefault();var o=new XHR,d="fio="+encodeURIComponent(t)+"&tel="+encodeURIComponent(r)+"&email="+encodeURIComponent(l)+"&description="+encodeURIComponent(n);o.open("POST","/includes/ajax/order.php",!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(d),o.onreadystatechange=function(){4==o.readyState&&(200==o.status?(addClass(_,"ajax-alert-popup--open"),addClass(m,"window--done"),document.querySelector(".window__text--done").style.display="block"):(addClass(_,"ajax-alert-popup--open"),addClass(m,"window--error"),document.querySelector(".window__text--error").style.display="block"))}}}),u.addEventListener("click",function(){removeClass(_,"ajax-alert-popup--open"),removeClass(m,"window--done window--error"),document.querySelector(".window__text--done").style.display="none",document.querySelector(".window__text--error").style.display="none"})});
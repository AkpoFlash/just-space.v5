"use strict";function addClass(e,t){for(var r=t.split(" "),o=0;o<r.length;o++)e.className+=" "+r[o];return e.className=e.className.trim(),e.className}function removeClass(e,t){var r=e.className.trim().split(" "),o=t.trim().split(" ");e.className="";e:for(var l=0;l<r.length;l++){for(var n=0;n<o.length;n++)if(r[l]===o[n])continue e;e.className+=" "+r[l]}return e.className=e.className.trim(),e.className}function toggleClass(e,t){var r=t.trim().split(" "),o=r.every(function(t,r,o){return hasClass(e,t)});return o?removeClass(e,t):addClass(e,t),o}function hasClass(e,t){var r=" "+e.className.trim()+" ";return t=t.trim(),!!~r.indexOf(" "+t+" ")}function leaf(e){for(var t=1;t<=4;t++)removeClass(document.querySelector(".slider__slide--"+t),"slider__slide--back"),removeClass(document.querySelector(".header__title--"+t),"header__title--back");for(var t=1;t<=4;t++)if(hasClass(document.querySelector(".slider__slide--"+t),"slider__slide--active")){e(t);break}}function clickSliderArrowRight(){leaf(function(e){addClass(document.querySelector(".slider__slide--"+e),"slider__slide--back"),addClass(document.querySelector(".header__title--"+e),"header__title--back"),removeClass(document.querySelector(".slider__slide--"+e),"slider__slide--active"),removeClass(document.querySelector(".header__title--"+e),"header__title--active"),e=4==e?1:e+1,addClass(document.querySelector(".slider__slide--"+e),"slider__slide--active"),addClass(document.querySelector(".header__title--"+e),"header__title--active")})}function clickSliderArrowLeft(){leaf(function(e){removeClass(document.querySelector(".slider__slide--"+e),"slider__slide--active"),removeClass(document.querySelector(".header__title--"+e),"header__title--active"),e=1==e?4:e-1,addClass(document.querySelector(".slider__slide--"+e),"slider__slide--active"),addClass(document.querySelector(".header__title--"+e),"header__title--active"),e=1==e?4:e-1,addClass(document.querySelector(".slider__slide--"+e),"slider__slide--back"),addClass(document.querySelector(".header__title--"+e),"header__title--back")})}function initMap(){var e={lat:54.179975,lng:37.60391};map=new google.maps.Map(document.getElementById("map"),{center:e,scrollwheel:!1,zoom:15});var t={url:"/img/pinLogo.svg"},r=new google.maps.Marker({map:map,icon:t,place:{location:e,query:"Just Space, Россия, Тула, пр. Ленина"},attribution:{source:"Digital-агентство Just Space",webUrl:"http://www.just-space.ru"},title:"Тут создают сайты"}),o=new google.maps.InfoWindow({content:"Digital-агентство Just Space"});r.addListener("click",function(){o.open(map,r)});var l=[{stylers:[{hue:"#0097ba"},{saturation:-20}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:100},{visibility:"simplified"}]}];map.setOptions({styles:l})}function limitExecByInterval(e,t){var r,o,l;return function(){if(l=arguments,!r){r=!0;var n=this;return setTimeout(function(){r=!1,o&&(l.callee.apply(n,l),o=!1)},t),e.apply(this,l)}o=!0}}var winHeight=document.documentElement.clientHeight,winWidth=document.documentElement.clientWidth,map,XHR="onload"in new XMLHttpRequest?XMLHttpRequest:XDomainRequest;document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".header")||document.querySelector("head"),t=document.querySelector(".header--2div3")||document.querySelector("head"),r=document.querySelector(".header--index")||document.querySelector("head"),o=document.querySelector(".main-blog")||document.querySelector("head"),l=document.querySelector(".hamburger")||document.querySelector("head"),n=document.querySelectorAll(".hamburger__line")||document.querySelector("head"),a=document.querySelector(".sidebar")||document.querySelector("head"),i=document.querySelectorAll(".sidebar__link")||document.querySelector("head"),d=document.querySelector("#file__front")||document.querySelector("head"),c=document.querySelector("#file__back")||document.querySelector("head"),s=document.querySelector("#order_sub")||document.querySelector("head"),u=document.querySelector(".window__button-close")||document.querySelector("head"),m=document.querySelector(".window")||document.querySelector("head"),_=document.querySelector(".ajax-alert-popup")||document.querySelector("head"),y=document.querySelector(".arrow__icon")||document.querySelector("head"),h=document.querySelector(".slider__arrow--left")||document.querySelector("head"),v=document.querySelector(".slider__arrow--right")||document.querySelector("head");t.style.height=winHeight/1.5+"px",r.style.height=winHeight+"px",winWidth>500&&(o.style.height=winHeight+"px"),l.addEventListener("click",function(){for(var e=0;e<n.length;e++)toggleClass(n[e],"hamburger__line--open"),toggleClass(a,"sidebar--open")}),d.addEventListener("click",function(){c.click()});var p=limitExecByInterval(clickSliderArrowLeft,1e3),S=limitExecByInterval(clickSliderArrowRight,1e3);if(h.addEventListener("click",function(){clearInterval(q),p()}),v.addEventListener("click",function(){clearInterval(q),S()}),hasClass(e,"header--index"))var q=setInterval(function(){clickSliderArrowRight()},5e3);y.addEventListener("click",function(e){function t(e){var a=0,i=0;null===r&&(r=e),a=e-r,i=n-l<0?Math.max(l-a/o,n):Math.min(l+a/o,n),window.scrollTo(0,i),i!=n&&window.requestAnimationFrame(t)}var r=null,o=1,l=window.pageYOffset,n=winHeight;window.requestAnimationFrame(t),e.preventDefault()});for(var f=0;f<i.length;f++)i[f].addEventListener("mouseenter",function(){addClass(this,"sidebar__link--hover")}),i[f].addEventListener("focus",function(){addClass(this,"sidebar__link--hover")}),i[f].addEventListener("mouseleave",function(){removeClass(this,"sidebar__link--hover")}),i[f].addEventListener("blur",function(){removeClass(this,"sidebar__link--hover")});s.addEventListener("click",function(e){var t=document.querySelector("#fio").value,r=document.querySelector("#tel").value,o=document.querySelector("#email").value,l=document.querySelector("#description").value;if(""!=t&&""!=r&&""!=o&&""!=l){e.preventDefault();var n=new XHR,a="fio="+encodeURIComponent(t)+"&tel="+encodeURIComponent(r)+"&email="+encodeURIComponent(o)+"&description="+encodeURIComponent(l);n.open("POST","/includes/ajax/order.php",!0),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.send(a),n.onreadystatechange=function(){4==n.readyState&&(200==n.status?(addClass(_,"ajax-alert-popup--open"),addClass(m,"window--done"),document.querySelector(".window__text--done").style.display="block"):(addClass(_,"ajax-alert-popup--open"),addClass(m,"window--error"),document.querySelector(".window__text--error").style.display="block"))}}}),u.addEventListener("click",function(){removeClass(_,"ajax-alert-popup--open"),removeClass(m,"window--done window--error"),document.querySelector(".window__text--done").style.display="none",document.querySelector(".window__text--error").style.display="none"})});